<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Department Dashboard</title>
  
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon-180x180.png">
  <link rel="apple-touch-icon" sizes="167x167" href="/assets/apple-touch-icon-167x167.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/apple-touch-icon-152x152.png">

  <!-- fallback -->
  <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">

  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#000000">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Favicon (optional) -->
  <link rel="icon" href="/assets/logo.svg" type="image/svg+xml">

  <!-- Styles -->
  <link rel="stylesheet" href="/styles.css">
</head>

<body>
  <div id="topnav"></div>

  <div class="header">
    <div class="title-row">
      <h1 id="title">DASHBOARD</h1>

      <div style="display:flex; align-items:center; gap:10px;">
        <button id="soundToggle" class="btn secondary" style="margin:0; padding:10px 14px;">
          Enable Sound
        </button>
        <div class="clock" id="clock">--:--</div>
      </div>
    </div>

    <div class="subhead" id="subhead">
      Active Requests: 0 &nbsp;&nbsp; Oldest Waiting: 00:00
    </div>
  </div>

  <div class="grid wallboard" id="grid"></div>

  <!-- Completion modal -->
  <div class="modal-backdrop" id="completeBackdrop">
    <div class="modal" role="dialog" aria-modal="true">
      <h2>Complete Call</h2>
      <div class="cell-tag" id="modalCellName">Cell: —</div>
      <div class="cell-tag" id="modalFiixWo" style="display:none;">Fiix WO: —</div>

      <label for="responderName">Responder Name</label>
      <select id="responderName">
        <option value="">Select…</option>
      </select>

      <label for="partNumber" id="pnLabel">Part Number</label>
      <input id="partNumber" type="text" maxlength="64" placeholder="Enter part number (Quality required)" />

      <label for="result">Result</label>
      <select id="result">
        <option value="">Select…</option>
        <option value="Resolved">Resolved</option>
        <option value="Escalated">Escalated</option>
        <option value="Info Provided">Info Provided</option>
        <option value="Other">Other</option>
      </select>

      <label for="note">Note</label>
      <textarea id="note" placeholder="What was addressed? Findings/actions?"></textarea>

      <div class="row">
        <button class="btn secondary" id="cancelModal">Cancel</button>
        <button class="btn hold-submit" id="submitComplete" title="Hold 1s to submit">
          <span>Hold 1s: Submit & Complete</span>
          <div class="hold-progress" id="holdProgress"></div>
        </button>
      </div>
    </div>
  </div>

  <!-- Scripts (real tags!) -->
  <script src="/nav.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/dashboard.js"></script>
  <script src="/pwa.js"></script>
</body>
</html>